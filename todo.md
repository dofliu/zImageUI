# Z-Image-Turbo Web UI - 開發任務清單

## 🚀 第一階段：核心功能增強 (本次開發)

### 1. 批量生成模式 (Batch Generation)

#### 後端開發
- [ ] 新增 `/batch-generate` API 路由
- [ ] 實作批量生成邏輯 (序列化處理)
- [ ] 添加批量任務追蹤機制
- [ ] 實作 ZIP 打包功能
- [ ] 錯誤處理與重試機制
- [ ] 批量歷史記錄儲存

#### 前端開發
- [ ] 新增批量/單張模式切換 UI
- [ ] 批量提示詞輸入框 (textarea with line split)
- [ ] 批量生成進度顯示
- [ ] 批量結果預覽網格
- [ ] ZIP 下載按鈕
- [ ] 批量操作說明提示

#### 測試
- [ ] 測試 2 張批量生成
- [ ] 測試 5 張批量生成
- [ ] 測試 10 張批量生成
- [ ] VRAM 使用監控
- [ ] 錯誤情況測試

---

### 2. 風格預設模板系統 (Style Templates)

#### 資料準備
- [ ] 建立 `templates.json` 風格資料庫
- [ ] 定義基礎風格類別
  - [ ] 藝術風格 (水彩、油畫、素描等)
  - [ ] 文化風格 (日式、中國風、歐美等)
  - [ ] 現代風格 (賽博龐克、極簡、復古等)
  - [ ] 動漫風格 (吉卜力、迪士尼、漫畫等)
- [ ] 定義教學模板
  - [ ] 科學圖解
  - [ ] 歷史場景
  - [ ] 文學插圖
  - [ ] 地理景觀

#### 後端開發
- [ ] 新增 `/templates` API (GET 取得模板列表)
- [ ] 新增 `/templates/custom` API (POST 儲存自定義模板)
- [ ] 模板與提示詞自動組合邏輯
- [ ] 使用者自定義模板儲存

#### 前端開發
- [ ] 風格選擇器 UI (下拉選單或卡片)
- [ ] 風格預覽縮圖
- [ ] 風格分類標籤
- [ ] 自定義風格儲存對話框
- [ ] 風格收藏功能
- [ ] 快速套用按鈕

#### 測試
- [ ] 測試各風格模板生成效果
- [ ] 測試自定義模板儲存與載入
- [ ] UI 響應測試

---

### 3. 圖片尺寸預設 (Size Presets)

#### 配置開發
- [ ] 擴充 `config.py` 添加尺寸預設
  - [ ] Instagram (1080×1080)
  - [ ] Facebook Cover (1200×630)
  - [ ] YouTube Thumbnail (1280×720)
  - [ ] Twitter Card (1200×675)
  - [ ] A4 Portrait (2480×3508)
  - [ ] A4 Landscape (3508×2480)
  - [ ] 自定義尺寸

#### 後端開發
- [ ] 動態調整生成參數
- [ ] VRAM 需求估算
- [ ] 尺寸限制與驗證
- [ ] 大尺寸警告機制

#### 前端開發
- [ ] 尺寸選擇器 UI (下拉或按鈕組)
- [ ] 預設尺寸快速選擇
- [ ] 自定義尺寸輸入
- [ ] 尺寸預覽比例顯示
- [ ] VRAM 警告提示

#### 測試
- [ ] 各尺寸生成測試
- [ ] VRAM 佔用測試
- [ ] 大尺寸 (1024×1024) 測試
- [ ] 自定義尺寸測試

---

### 4. 標籤與分類系統 (Tags & Categories)

#### 資料結構
- [ ] 設計標籤資料結構
- [ ] 擴充 `history.json` 加入 tags 欄位
- [ ] 設計分類系統結構

#### 後端開發
- [ ] 新增 `/tags` API (GET 取得所有標籤)
- [ ] 新增 `/history/<id>/tags` API (POST 添加標籤)
- [ ] 新增 `/history/filter` API (GET 按標籤過濾)
- [ ] 標籤自動建議邏輯
- [ ] 標籤統計功能

#### 前端開發
- [ ] 標籤輸入組件
- [ ] 標籤顯示與刪除
- [ ] 標籤過濾器
- [ ] 標籤雲視覺化
- [ ] 快速標籤按鈕 (常用標籤)

#### 測試
- [ ] 標籤新增測試
- [ ] 標籤過濾測試
- [ ] 標籤統計測試

---

## 🎯 第二階段：教學應用增強 (下一階段)

### 5. 文字疊加功能
- [ ] 後端圖片處理 (Pillow)
- [ ] 字體庫整合
- [ ] 前端文字編輯器
- [ ] 位置與樣式調整

### 6. 批量導出功能
- [ ] PDF 導出 (reportlab)
- [ ] PPT 導出 (python-pptx)
- [ ] 模板系統
- [ ] 批量處理

### 7. 提示詞智能助手
- [ ] 關鍵字資料庫
- [ ] 自動完成功能
- [ ] 提示詞優化
- [ ] 範例庫

---

## 🔮 第三階段：進階功能 (未來)

### 8. Seed 固定與參數控制
- [ ] Seed 輸入與固定
- [ ] 參數滑桿 UI
- [ ] 參數組合儲存

### 9. 圖片編輯與後製
- [ ] 裁切、旋轉
- [ ] 濾鏡效果
- [ ] 背景移除

### 10. 使用者系統
- [ ] 註冊/登入
- [ ] 個人空間
- [ ] 配額管理

---

## 📝 文檔與維護

### 文檔更新
- [ ] 更新 README.md 新增功能說明
- [ ] 撰寫批量生成使用教學
- [ ] 撰寫風格模板指南
- [ ] 更新 FAQ

### Git 管理
- [ ] Commit 第一階段功能
- [ ] 更新 .gitignore (如需要)
- [ ] 建立功能分支

---

## ✅ 完成標準

### 第一階段完成條件
- [x] 所有批量生成功能正常運作
- [x] 風格模板至少包含 20 種
- [x] 尺寸預設至少包含 6 種
- [x] 標籤系統基礎功能完成
- [x] 所有功能通過測試
- [x] 文檔更新完成
- [x] Git commit 完成

---

## 🐛 已知問題與待修復
- 無

---

## 💡 未來功能想法
- 圖片比較模式 (A/B 對比)
- 動畫生成 (幀序列)
- 3D 渲染風格
- 圖片混合 (Image-to-Image)
- ControlNet 整合
- LoRA 模型支援
- 多模型切換
- API 對外開放

---

**最後更新**: 2025-12-01
**負責開發**: Claude Code
**預計完成**: 第一階段 1-2 週
